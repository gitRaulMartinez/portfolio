---
import ExternalIcon from '../icons/ExternalIcon.astro'

const { value, icon: Icon } = Astro.props
---

<div 
  class="relative flex justify-start items-center rounded-md pl-3 pr-2 py-2 border border-slate-300 w-full max-w-sm dark:border-slate-700"
  x-data="{ 
    showTooltip: false,
    tooltipText: 'Ir al enlace',
  }"
>
  <span class="text-slate-700 dark:text-slate-300"> 
    {<Icon />}
  </span>
  
  <input 
    type="text" 
    readonly 
    value={value} 
    class="focus:outline-none rounded-sm px-3 py-1.5 text-slate-700 w-full dark:text-slate-300 bg-transparent"
  >
  <a 
    href="https://www.linkedin.com/in/raul-martinez-in/"
    target="_blank"
    @mouseenter="showTooltip = true"
    @mouseleave="showTooltip = false"
    class="ml-2 p-1.5 text-sm bg-slate-700 text-white hover:bg-slate-800 rounded-md dark:bg-slate-100 dark:text-slate-700 dark:hover:bg-slate-50"
  >
    <ExternalIcon />
  </a>
  <span 
    x-show="showTooltip"
    x-text="tooltipText"
    x-transition:enter="transition ease-out duration-300"
    x-transition:enter-start="opacity-0"
    x-transition:enter-end="opacity-100"
    x-transition:leave="transition ease-in duration-200"
    x-transition:leave-start="opacity-100"
    x-transition:leave-end="opacity-0"
    class="
        fixed sm:absolute 
        bottom-2 right-1/2 translate-x-1/2 translate-y-0
        sm:bottom-1/2 sm:-right-3 sm:translate-x-full sm:translate-y-1/2
        text-sm rounded text-slate-700 bg-slate-200 px-3 py-2 pointer-events-none
      "
    >
  </span>
</div>